<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Best Practices | YMD/PMD Specification</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Best Practices" />
<meta name="author" content="Davi Guides" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Structured, modular AI prompts using YAML, Markdown, and Jinja2 templating." />
<meta property="og:description" content="Structured, modular AI prompts using YAML, Markdown, and Jinja2 templating." />
<meta property="og:site_name" content="YMD/PMD Specification" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Best Practices" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Davi Guides"},"description":"Structured, modular AI prompts using YAML, Markdown, and Jinja2 templating.","headline":"Best Practices","url":"/ymd-spec/_pages/best-practices.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css">
  <link rel="stylesheet" href="/ymd-spec/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/ymd-spec/feed.xml" title="YMD/PMD Specification" />
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/ymd-spec/">YMD/PMD Specification</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/ymd-spec/">Home</a><a class="page-link" href="/ymd-spec/_pages/quick-start.html">Quick Start</a><a class="page-link" href="/ymd-spec/_pages/specifications.html">Format Specifications</a><a class="page-link" href="/ymd-spec/_pages/examples.html">Examples</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <!-- <header class="post-header">
    <h1 class="post-title">Best Practices</h1>
  </header> -->

  <div class="post-content">
    <h1 id="best-practices">Best Practices</h1>

<p>Guidelines and patterns for creating high-quality YMD/PMD files.</p>

<hr />

<h2 id="ymd-best-practices">YMD Best Practices</h2>

<h3 id="metadata">Metadata</h3>

<h4 id="use-descriptive-ids">Use Descriptive IDs</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ✅ GOOD</span>
<span class="na">meta</span><span class="pi">:</span>
  <span class="na">id</span><span class="pi">:</span> <span class="s">code_review_assistant</span>

<span class="c1"># ❌ BAD</span>
<span class="na">meta</span><span class="pi">:</span>
  <span class="na">id</span><span class="pi">:</span> <span class="s">cr_assist</span>
</code></pre></div></div>

<p><strong>Why</strong>: Clear, descriptive IDs make the purpose obvious.</p>

<h4 id="follow-semantic-versioning">Follow Semantic Versioning</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">meta</span><span class="pi">:</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">1.0.0</span>  <span class="c1"># Initial release</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">1.1.0</span>  <span class="c1"># New feature (backward compatible)</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">2.0.0</span>  <span class="c1"># Breaking change</span>
</code></pre></div></div>

<p><strong>Why</strong>: Tracks changes and compatibility clearly.</p>

<h4 id="meaningful-titles">Meaningful Titles</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ✅ GOOD</span>
<span class="na">meta</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Comprehensive Code Review Assistant</span>

<span class="c1"># ❌ BAD</span>
<span class="na">meta</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Assistant</span>
</code></pre></div></div>

<p><strong>Why</strong>: Titles help users understand purpose at a glance.</p>

<h3 id="structure">Structure</h3>

<h4 id="keep-ymd-thin">Keep YMD Thin</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ✅ GOOD - Mostly includes</span>
<span class="na">system</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">{% include "roles/senior_dev.pmd" %}</span>

<span class="na">review_focus</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">{% include "checklists/quality.pmd" %}</span>
  <span class="s">{% include "checklists/security.pmd" %}</span>

<span class="c1"># ❌ BAD - Large inline content</span>
<span class="na">system</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">You are a senior developer...</span>
  <span class="s">[45 lines of content]</span>
</code></pre></div></div>

<p><strong>Why</strong>: Reusability and maintainability improve with extracted components.</p>

<h4 id="use-custom-sections-appropriately">Use Custom Sections Appropriately</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ✅ GOOD - Clear, domain-specific sections</span>
<span class="na">context</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">Working on </span>

<span class="na">api_principles</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">{% include "principles/rest_principles.pmd" %}</span>

<span class="na">security_requirements</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">{% include "security/api_security.pmd" %}</span>

<span class="c1"># ❌ BAD - Everything in instructions</span>
<span class="na">instructions</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">Context: Working on </span>

  <span class="s">API Principles: ...</span>

  <span class="s">Security Requirements: ...</span>
</code></pre></div></div>

<p><strong>Why</strong>: Custom sections provide better organization and clarity.</p>

<h4 id="document-expected-variables">Document Expected Variables</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">{</span><span class="c1"># Expected variables:</span>
   <span class="nv">- project_type</span><span class="pi">:</span> <span class="nv">string - Type of project</span>
   <span class="nv">- language</span><span class="pi">:</span> <span class="nv">string - Programming language</span>
   <span class="nv">- code</span><span class="pi">:</span> <span class="nv">string - Code to review</span>
<span class="nv">#</span><span class="pi">}</span>

<span class="na">meta</span><span class="pi">:</span>
  <span class="na">id</span><span class="pi">:</span> <span class="s">code_reviewer</span>
  <span class="s">...</span>
</code></pre></div></div>

<p><strong>Why</strong>: Makes it clear what variables are needed at render time.</p>

<h3 id="organization">Organization</h3>

<h4 id="logical-section-order">Logical Section Order</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ✅ GOOD - Logical flow</span>
<span class="na">meta</span><span class="pi">:</span> <span class="s">...</span>
<span class="na">system</span><span class="pi">:</span> <span class="s">...</span>       <span class="c1"># Who</span>
<span class="na">context</span><span class="pi">:</span> <span class="s">...</span>      <span class="c1"># Where/when</span>
<span class="na">instructions</span><span class="pi">:</span> <span class="s">...</span> <span class="c1"># What</span>
<span class="na">expected_output</span><span class="pi">:</span> <span class="s">...</span>  <span class="c1"># How</span>
<span class="na">user</span><span class="pi">:</span> <span class="s">...</span>         <span class="c1"># Input</span>

<span class="c1"># ❌ BAD - Random order</span>
<span class="na">meta</span><span class="pi">:</span> <span class="s">...</span>
<span class="na">user</span><span class="pi">:</span> <span class="s">...</span>
<span class="na">system</span><span class="pi">:</span> <span class="s">...</span>
<span class="na">expected_output</span><span class="pi">:</span> <span class="s">...</span>
</code></pre></div></div>

<p><strong>Why</strong>: Natural reading order improves understanding.</p>

<hr />

<h2 id="pmd-best-practices">PMD Best Practices</h2>

<h3 id="single-responsibility">Single Responsibility</h3>

<h4 id="one-clear-purpose">One Clear Purpose</h4>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- ✅ GOOD - Single responsibility --&gt;</span>
You are an expert in {{ domain }}.

Your approach:
<span class="p">-</span> Clear, technical answers
<span class="p">-</span> Best practices focus
</code></pre></div></div>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- ❌ BAD - Multiple responsibilities --&gt;</span>
You are an expert in {{ domain }}.

Your approach: ...

Also, here are some checklists:
<span class="p">-</span> [ ] Check 1
<span class="p">-</span> [ ] Check 2

And output format:
Return as JSON...
</code></pre></div></div>

<p><strong>Why</strong>: Single responsibility makes components more reusable.</p>

<h4 id="extract-related-concerns">Extract Related Concerns</h4>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- If mixing concerns, split into multiple PMDs --&gt;</span>
roles/expert.pmd           # Just the role
checklists/quality.pmd     # Just the checklist
formats/json_response.pmd  # Just the format
</code></pre></div></div>

<h3 id="naming">Naming</h3>

<h4 id="descriptive-filenames">Descriptive Filenames</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ✅ GOOD</span>
roles/senior_python_developer.pmd
checklists/api_security_review.pmd
formats/markdown_documentation.pmd

<span class="c"># ❌ BAD</span>
roles/dev.pmd
checklists/check.pmd
formats/format.pmd
</code></pre></div></div>

<p><strong>Why</strong>: Names should explain the component’s purpose.</p>

<h4 id="follow-conventions">Follow Conventions</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Use snake_case</span>
roles/technical_writer.pmd  ✅
roles/TechnicalWriter.pmd   ❌
roles/technical-writer.pmd  ❌
</code></pre></div></div>

<h3 id="documentation">Documentation</h3>

<h4 id="document-variables">Document Variables</h4>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{# Senior Developer Role

   Expected variables:
<span class="p">   -</span> primary_language: string - Main programming language
<span class="p">   -</span> years_experience: number - Years of experience (default: 10)
<span class="gh">#}</span>

You are a senior {{ primary_language }} developer...
</code></pre></div></div>

<p><strong>Why</strong>: Clear variable documentation prevents confusion.</p>

<h4 id="add-context-comments">Add Context Comments</h4>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{# This checklist focuses on API security specifically,
   not general application security.

   Use with: API design prompts
   Related: checklists/general_security.pmd
<span class="gh">#}</span>
</code></pre></div></div>

<p><strong>Why</strong>: Helps others understand when and how to use the component.</p>

<hr />

<h2 id="composition-best-practices">Composition Best Practices</h2>

<h3 id="include-paths">Include Paths</h3>

<h4 id="use-relative-paths">Use Relative Paths</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ✅ GOOD - Relative to current file</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">include "../components/roles/expert.pmd" %</span><span class="pi">}</span>

<span class="c1"># ❌ BAD - Absolute path</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">include "/Users/username/project/roles/expert.pmd" %</span><span class="pi">}</span>
</code></pre></div></div>

<p><strong>Why</strong>: Relative paths work across different environments.</p>

<h4 id="consistent-path-structure">Consistent Path Structure</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prompts/
  └── code_review.ymd → {% include "../components/roles/expert.pmd" %}

components/
  └── roles/
      └── expert.pmd
</code></pre></div></div>

<p><strong>Why</strong>: Consistent structure makes includes predictable.</p>

<h3 id="composition-depth">Composition Depth</h3>

<h4 id="keep-reasonable-depth">Keep Reasonable Depth</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ✅ GOOD - 3 levels
main.ymd
  └── profile.pmd
      └── role.pmd

# ⚠️ ACCEPTABLE - 5 levels
main.ymd
  └── orchestrator.pmd
      └── profile.pmd
          └── role.pmd
              └── core.pmd

# ❌ BAD - 7+ levels (too deep)
main.ymd → ... → ... → ... → ... → ... → deep.pmd
</code></pre></div></div>

<p><strong>Why</strong>: Deep nesting becomes hard to understand and debug.</p>

<h3 id="avoid-circular-dependencies">Avoid Circular Dependencies</h3>

<h4 id="bad-pattern">Bad Pattern</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a.pmd includes b.pmd
b.pmd includes c.pmd
c.pmd includes a.pmd  ❌ Circular!
</code></pre></div></div>

<h4 id="good-pattern">Good Pattern</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a.pmd includes shared.pmd
b.pmd includes shared.pmd
c.pmd includes shared.pmd  ✅ No cycle
</code></pre></div></div>

<p><strong>Why</strong>: Circular dependencies cause infinite loops.</p>

<hr />

<h2 id="variable-best-practices">Variable Best Practices</h2>

<h3 id="naming-1">Naming</h3>

<h4 id="use-descriptive-names">Use Descriptive Names</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ✅ GOOD</span>
<span class="na">user_profile_data</span><span class="pi">:</span> <span class="pi">{{</span> <span class="nv">user_profile_data</span> <span class="pi">}}</span>
<span class="na">max_retry_attempts</span><span class="pi">:</span> <span class="pi">{{</span> <span class="nv">max_retry_attempts</span> <span class="pi">}}</span>
<span class="na">api_base_url</span><span class="pi">:</span> <span class="pi">{{</span> <span class="nv">api_base_url</span> <span class="pi">}}</span>

<span class="c1"># ❌ BAD</span>
<span class="na">data</span><span class="pi">:</span> <span class="pi">{{</span> <span class="nv">data</span> <span class="pi">}}</span>
<span class="na">max</span><span class="pi">:</span> <span class="pi">{{</span> <span class="nv">max</span> <span class="pi">}}</span>
<span class="na">url</span><span class="pi">:</span> <span class="pi">{{</span> <span class="nv">url</span> <span class="pi">}}</span>
</code></pre></div></div>

<p><strong>Why</strong>: Clear names prevent confusion about variable purpose.</p>

<h3 id="documentation-1">Documentation</h3>

<h4 id="document-in-ymd">Document in YMD</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">{</span><span class="c1"># Expected variables:</span>
   <span class="nv">- language</span><span class="pi">:</span> <span class="nv">string - Programming language (e.g.</span><span class="pi">,</span> <span class="s2">"</span><span class="s">python"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">javascript"</span><span class="nv">)</span>
   <span class="nv">- code</span><span class="pi">:</span> <span class="nv">string - Code to review</span>
   <span class="nv">- strict_mode</span><span class="pi">:</span> <span class="nv">boolean - Enable strict validation (default</span><span class="pi">:</span> <span class="nv">false)</span>
<span class="nv">#</span><span class="pi">}</span>
</code></pre></div></div>

<h4 id="document-in-pmd">Document in PMD</h4>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{# Expected variables:
<span class="p">   -</span> domain: string - Domain of expertise
<span class="p">   -</span> experience_level: string - "junior" | "senior" | "expert"
<span class="gh">#}</span>
</code></pre></div></div>

<p><strong>Why</strong>: Clear documentation prevents runtime errors.</p>

<h3 id="defaults">Defaults</h3>

<h4 id="provide-sensible-defaults">Provide Sensible Defaults</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">{</span><span class="err">%</span> <span class="nv">set max_retries = max_retries | default(3) %</span><span class="pi">}</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">set timeout = timeout | default(30) %</span><span class="pi">}</span>
</code></pre></div></div>

<p><strong>Why</strong>: Makes variables optional when appropriate.</p>

<hr />

<h2 id="file-organization-best-practices">File Organization Best Practices</h2>

<h3 id="directory-structure">Directory Structure</h3>

<h4 id="organize-by-category">Organize by Category</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>project/
├── prompts/              # YMD files
│   ├── code_review.ymd
│   └── api_design.ymd
│
└── components/           # PMD files
    ├── roles/
    ├── checklists/
    ├── formats/
    └── shared/
</code></pre></div></div>

<p><strong>Why</strong>: Clear structure improves discoverability.</p>

<h4 id="or-by-domain">Or by Domain</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>project/
├── prompts/
└── components/
    ├── python/          # Python-specific
    ├── javascript/      # JavaScript-specific
    └── general/         # Language-agnostic
</code></pre></div></div>

<p><strong>Why</strong>: Domain organization works well for specialized use cases.</p>

<h3 id="file-placement">File Placement</h3>

<h4 id="place-by-function">Place by Function</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Role definitions</span>
components/roles/senior_dev.pmd

<span class="c"># Validation checklists</span>
components/checklists/security.pmd

<span class="c"># Output formats</span>
components/formats/json_response.pmd

<span class="c"># Shared content</span>
components/shared/principles.pmd
</code></pre></div></div>

<p><strong>Why</strong>: Function-based placement is intuitive.</p>

<hr />

<h2 id="testing-best-practices">Testing Best Practices</h2>

<h3 id="validate-regularly">Validate Regularly</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># After creating/editing files</span>
/validate-composition path/to/file.ymd
</code></pre></div></div>

<p><strong>Why</strong>: Catch errors early.</p>

<h3 id="test-include-chains">Test Include Chains</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Test that all includes resolve</span>
<span class="c"># Test with sample variables</span>
<span class="c"># Verify no circular dependencies</span>
</code></pre></div></div>

<p><strong>Why</strong>: Ensures composition works as expected.</p>

<h3 id="version-control">Version Control</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Commit YMD and PMD files together</span>
git add prompts/code_review.ymd
git add components/roles/senior_dev.pmd
git commit <span class="nt">-m</span> <span class="s2">"Add code review prompt with senior dev role"</span>
</code></pre></div></div>

<p><strong>Why</strong>: Keeps related changes together.</p>

<hr />

<h2 id="performance-best-practices">Performance Best Practices</h2>

<h3 id="minimize-include-depth">Minimize Include Depth</h3>

<p><strong>Recommendation</strong>: Keep depth ≤ 5 levels</p>

<p><strong>Why</strong>: Deep nesting impacts render performance and debugging.</p>

<h3 id="reuse-components">Reuse Components</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ✅ GOOD - Reuse across prompts</span>
<span class="na">review_focus</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">{% include "checklists/quality.pmd" %}</span>

<span class="c1"># ❌ BAD - Duplicate content</span>
<span class="na">review_focus</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">## Quality Checklist</span>
  <span class="s">[same content copied in multiple YMDs]</span>
</code></pre></div></div>

<p><strong>Why</strong>: Reuse reduces duplication and maintenance burden.</p>

<h3 id="cache-common-components">Cache Common Components</h3>

<p>If using rendering library, cache frequently used PMDs.</p>

<p><strong>Why</strong>: Reduces file I/O for repeated includes.</p>

<hr />

<h2 id="maintenance-best-practices">Maintenance Best Practices</h2>

<h3 id="version-your-prompts">Version Your Prompts</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">meta</span><span class="pi">:</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">1.0.0</span>  <span class="c1"># Track changes</span>

<span class="c1"># Document changes in CHANGELOG</span>
</code></pre></div></div>

<h3 id="review-periodically">Review Periodically</h3>

<ul>
  <li>Check for outdated components</li>
  <li>Remove unused PMDs</li>
  <li>Update variable documentation</li>
  <li>Refactor complex compositions</li>
</ul>

<h3 id="keep-documentation-updated">Keep Documentation Updated</h3>

<ul>
  <li>Update README when structure changes</li>
  <li>Document new patterns</li>
  <li>Keep examples current</li>
</ul>

<hr />

<h2 id="common-patterns">Common Patterns</h2>

<h3 id="pattern-adapter">Pattern: Adapter</h3>

<p>Create thin adapter YMDs for different use cases:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># code_review_strict.ymd</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">set strict_mode = true %</span><span class="pi">}</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">include "code_review_base.ymd" %</span><span class="pi">}</span>

<span class="c1"># code_review_relaxed.ymd</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">set strict_mode = false %</span><span class="pi">}</span>
<span class="pi">{</span><span class="err">%</span> <span class="nv">include "code_review_base.ymd" %</span><span class="pi">}</span>
</code></pre></div></div>

<h3 id="pattern-template-method">Pattern: Template Method</h3>

<p>Base YMD with customization points:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># base.ymd</span>
<span class="na">system</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">{% include "roles/base_role.pmd" %}</span>
  <span class="s">{% block custom_expertise %}{% endblock %}</span>
</code></pre></div></div>

<h3 id="pattern-composition">Pattern: Composition</h3>

<p>Build complex from simple:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">system</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">{% include "roles/expert.pmd" %}</span>
  <span class="s">{% include "shared/principles.pmd" %}</span>
  <span class="s">{% include "shared/communication_style.pmd" %}</span>
</code></pre></div></div>

<hr />

<h2 id="anti-patterns-to-avoid">Anti-Patterns to Avoid</h2>

<h3 id="-giant-monolithic-pmd">❌ Giant Monolithic PMD</h3>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- DON'T: 500+ line PMD doing everything --&gt;</span>
</code></pre></div></div>

<p><strong>Fix</strong>: Split by responsibility into multiple PMDs.</p>

<h3 id="-flat-metadata-in-ymd">❌ Flat Metadata in YMD</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># DON'T</span>
<span class="na">id</span><span class="pi">:</span> <span class="s">example</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">task</span>
</code></pre></div></div>

<p><strong>Fix</strong>: Group under <code class="language-plaintext highlighter-rouge">meta:</code>.</p>

<h3 id="-magic-values">❌ Magic Values</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># DON'T</span>
<span class="na">if attempts &gt; 3</span><span class="pi">:</span>
</code></pre></div></div>

<p><strong>Fix</strong>: Use variables:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">{</span><span class="err">%</span> <span class="nv">set max_attempts = max_attempts | default(3) %</span><span class="pi">}</span>
<span class="na">if attempts &gt; max_attempts</span><span class="pi">:</span>
</code></pre></div></div>

<h3 id="-no-variable-documentation">❌ No Variable Documentation</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># DON'T: Undocumented variables</span>
<span class="na">user</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">{{ mysterious_variable }}</span>
</code></pre></div></div>

<p><strong>Fix</strong>: Document all variables.</p>

<hr />

<h2 id="checklist-before-publishing">Checklist Before Publishing</h2>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />YMD has grouped <code class="language-plaintext highlighter-rouge">meta:</code> section</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />PMD has NO <code class="language-plaintext highlighter-rouge">meta:</code> section</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />All includes use relative paths</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />All variables documented</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />No circular dependencies</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Naming follows conventions</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Files validated with <code class="language-plaintext highlighter-rouge">/validate-composition</code></li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Tested with sample variables</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />README updated (if needed)</li>
</ul>

<hr />

<h2 id="getting-help">Getting Help</h2>

<ul>
  <li>Use <code class="language-plaintext highlighter-rouge">@ymd-author</code> for guided creation</li>
  <li>Use <code class="language-plaintext highlighter-rouge">@composition-expert</code> for structure advice</li>
  <li>Use <code class="language-plaintext highlighter-rouge">@ymd-validator</code> for debugging</li>
  <li>Check <a href="/ymd-spec/_pages/examples.html">Examples</a> for patterns</li>
  <li>Refer to <a href="/ymd-spec/_pages/specifications.html">Specifications</a> for details</li>
</ul>

  </div>

</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/ymd-spec/"></data>

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Davi Guides</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Structured, modular AI prompts using YAML, Markdown, and Jinja2 templating.</p>
      </div>
    </div>
  </div>
</footer>
</body>

</html>
